Ext.define('Ext.ux.data.SimpleMapper', {
    alias: 'SimpleMapper',
    
    
    constructor: function(config){
        this.map = config;
    },
    
    getMapped: function(item){
        var i, result, key, value;
        if(Ext.isArray(item)){
            result = [];
            for(i=0; i<item.length; i++){
                result.push(this.getMapped(item[i]));
            }
            return result;
        }else{
            if(Ext.isObject(item)){
                result = {};
                for(key in item){
                    if(item.hasOwnProperty(key)){
                        value = item[key];
                        
                        // for now, just exclude foreign keys and functions
                        
                        if(Ext.isPrimitive(value) && key.indexOf('fk_') === -1){
                            
                            result[key] = value;
                            
                        }
                        
                    }
                }
                return result;
            }else{
                return null;
            }
        }
    }
    
    
});