/*global */

Ext.define('demo1.manager.StaticServer', {
    extend: 'Ext.ux.app.Manager',

    initialize: function (o) {

        var server = this.bus.server,
            express = this.bus.express,
            path, directory;
        
            
        // dermine path and directory
        path = this.config.rootPath + this.config.path;
        directory = demo1.__staticDirectory;
        
        //console.log('init static server: ' + path + ' -> ' + directory);
        
        // map the path to the static files
        server.use(path, express['static'](directory));

        this.handleSuccess(o);
    },

    the: 'end'
});